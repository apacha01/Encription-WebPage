<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
</head>
<body>
	<h1>Encriptador</h1>
	<input autofocus="true"/>
	<button onclick="borrar()"> Borrar </button>
	<br/><br/>
	<button onclick="encriptar()"> Encriptar </button>
	<button onclick="desencriptar()"> Desencriptar </button>
	<br/><br/>
	<textarea readonly=true placeholder="No se encontró ningún mensaje" cols="50" rows="10" style="resize: none;"></textarea>
	<br/><br/>
	<button onclick="copiar()"> Copiar </button>

	<script>
		var input	= document.querySelector("input");
		var output = document.querySelector("textarea");


		/*
		La letra "e" es convertida para "enter"
		La letra "i" es convertida para "imes"
		La letra "a" es convertida para "ai"
		La letra "o" es convertida para "ober"
		La letra "u" es convertida para "ufat"
		*/

		var a = "ai";
		var e = "enter";
		var i = "imes";
		var o = "ober";
		var u = "ufat";

		function encriptar() {
			var msj = input.value;
			var msjEncriptado = "";
			for (var j = 0; j < msj.length; j++) {
				switch(msj.charAt(j)){
					case 'a':
						msjEncriptado += a; break;
					case 'e':
						msjEncriptado += e; break;
					case 'i':
						msjEncriptado += i; break;
					case 'o':
						msjEncriptado += o; break;
					case 'u':
						msjEncriptado += u; break;
					default: 
						msjEncriptado += msj.charAt(j); break;
				}
			}
			output.value = msjEncriptado;
			//document.write(msjEncriptado);
		}

		function desencriptar(){
			var msj = input.value;
			var msjDesencriptado = "";
			
			for (var j = 0; j < msj.length; j++) {
				switch(msj.charAt(j)){
					case 'a':
											// ai
						msjDesencriptado += 'a'; j++; break;
					case 'e':
											// enter
						msjDesencriptado += 'e'; j += 4; break;
					case 'i':
											// imes
						msjDesencriptado += 'i'; j += 3; break;
					case 'o':
											// ober
						msjDesencriptado += 'o'; j += 3; break;
					case 'u':
											// ufat
						msjDesencriptado += 'u'; j += 3; break;
					default: 
						msjDesencriptado += msj.charAt(j); break;
				}
			}
			output.value = msjDesencriptado;
			//document.write(msjDesencriptado);
		}

		function copiar(){
			// https://www.delftstack.com/es/howto/javascript/javascript-copy-to-clipboard/
			// Agréguelo al portapapeles usando
			// document.execCommand('copy')
			output.focus();
			output.select();

			document.execCommand('copy');

			input.focus();
		}

		function borrar(){
			input.value = "";
			input.focus();
		}

	</script>
</body>
</html>